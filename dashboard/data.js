/**
 * Financial Controlling Dashboard – Mock Data
 * ============================================
 * Pre-computed data matching dbt model outputs for standalone visualization.
 * Covers: OPEX, CAPEX, HR Budget, Sales Forecast, Variance Analysis, KPIs
 */

const PERIODS = [
    '2023-01','2023-02','2023-03','2023-04','2023-05','2023-06',
    '2023-07','2023-08','2023-09','2023-10','2023-11','2023-12',
    '2024-01','2024-02','2024-03','2024-04','2024-05','2024-06',
    '2024-07','2024-08','2024-09','2024-10','2024-11','2024-12',
    '2025-01','2025-02','2025-03','2025-04','2025-05','2025-06',
    '2025-07','2025-08','2025-09','2025-10','2025-11','2025-12'
];

const MONTHS_SHORT = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];

// ─────────────────────────────────────────────
// KPIs (mart_kpis)
// ─────────────────────────────────────────────
const DATA_KPIS = {
    periods: PERIODS,
    total_revenue:      [42100000,39800000,44300000,45200000,43800000,46100000,47500000,41200000,48900000,51300000,53200000,56800000,48200000,45600000,50100000,51800000,49900000,52700000,54200000,47100000,55800000,58600000,60500000,64700000,53200000,50400000,55300000,57200000,55100000,58200000,59900000,52000000,61600000,64700000,66800000,71500000],
    total_cogs:         [21050000,19900000,22150000,22600000,21900000,23050000,23750000,20600000,24450000,25650000,26600000,28400000,24100000,22800000,25050000,25900000,24950000,26350000,27100000,23550000,27900000,29300000,30250000,32350000,26600000,25200000,27650000,28600000,27550000,29100000,29950000,26000000,30800000,32350000,33400000,35750000],
    gross_margin_pct:   [50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0],
    ebitda:             [8420000,7960000,8860000,9040000,8760000,9220000,9500000,8240000,9780000,10260000,10640000,11360000,9640000,9120000,10020000,10360000,9980000,10540000,10840000,9420000,11160000,11720000,12100000,12940000,10640000,10080000,11060000,11440000,11020000,11640000,11980000,10400000,12320000,12940000,13360000,14300000],
    ebitda_margin_pct:  [20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0],
    dso_days:           [35,38,34,33,36,32,31,37,30,29,30,28,34,37,33,32,35,31,30,36,29,28,29,27,33,36,32,31,34,30,29,35,28,27,28,26],
    dpo_days:           [42,44,41,40,43,39,38,45,37,36,37,35,41,43,40,39,42,38,37,44,36,35,36,34,40,42,39,38,41,37,36,43,35,34,35,33],
    burn_rate:          [38000000,36200000,40100000,40800000,39500000,41600000,42800000,37200000,44100000,46200000,47800000,51100000,43500000,41100000,45200000,46700000,45000000,47500000,48900000,42500000,50300000,52800000,54500000,58300000,48000000,45400000,49800000,51500000,49600000,52400000,54000000,46900000,55500000,58300000,60100000,64400000],
    roa_pct:            [8.5,8.2,9.0,9.1,8.8,9.3,9.5,8.3,9.9,10.3,10.7,11.4,9.7,9.1,10.1,10.4,10.0,10.6,10.9,9.5,11.2,11.8,12.2,13.0,10.7,10.1,11.1,11.5,11.1,11.7,12.0,10.4,12.4,13.0,13.4,14.3],
    roe_pct:            [12.1,11.7,12.9,13.0,12.6,13.3,13.6,11.9,14.1,14.7,15.3,16.3,13.8,13.0,14.4,14.9,14.3,15.1,15.6,13.5,16.0,16.8,17.4,18.6,15.3,14.4,15.9,16.4,15.8,16.7,17.2,14.9,17.7,18.6,19.2,20.5],
    net_cashflow:       [4100000,3600000,4200000,4400000,4300000,4500000,4700000,4000000,4800000,5100000,5400000,5700000,4700000,4500000,4900000,5100000,4800000,5200000,5300000,4600000,5500000,5800000,6000000,6400000,5200000,4900000,5400000,5700000,5500000,5800000,5900000,5100000,6100000,6500000,6800000,7100000]
};

// ─────────────────────────────────────────────
// OPEX Budget (mart_opex_budget) – aggregated
// ─────────────────────────────────────────────
const DATA_OPEX = {
    categories: ['Rent & Services', 'Energy & Materials', 'Personnel', 'Marketing & Travel', 'Taxes & Fees', 'Financial Costs'],
    planned:    [8200000, 12500000, 18400000, 4200000, 2100000, 1800000],
    actual:     [8650000, 13100000, 18150000, 4580000, 2050000, 1920000],
    monthly_planned: [
        [680,690,700,680,670,690,710,650,720,740,750,720],
        [1050,1020,1080,1040,1010,1060,1100,980,1120,1150,1180,1210],
        [1530,1530,1530,1540,1540,1530,1530,1530,1540,1540,1540,1570],
        [320,310,360,380,340,350,390,280,400,420,440,410],
        [175,170,180,175,170,175,180,165,185,180,175,170],
        [150,145,155,150,148,152,155,140,158,160,155,152]
    ],
    monthly_actual: [
        [720,710,730,700,690,710,740,680,750,770,790,760],
        [1100,1060,1130,1080,1050,1110,1150,1020,1170,1200,1230,1300],
        [1510,1510,1520,1520,1530,1510,1510,1510,1520,1520,1530,1560],
        [350,330,380,400,360,370,420,300,430,450,470,420],
        [170,165,175,170,168,172,175,160,178,175,170,172],
        [160,152,165,158,155,162,165,148,168,170,165,162]
    ]
};

// ─────────────────────────────────────────────
// CAPEX Budget (mart_capex_budget)
// ─────────────────────────────────────────────
const DATA_CAPEX = {
    categories: ['Tangible Assets', 'Intangible Assets', 'Financial Assets'],
    investment:     [25400000, 8200000, 3100000],
    depreciation:   [12700000, 4100000, 0],
    net_book_value: [12700000, 4100000, 3100000],
    quarterly_investment: [
        [5800,6200,6400,7000],
        [1800,2000,2100,2300],
        [700,750,800,850]
    ],
    quarterly_depreciation: [
        [3000,3100,3200,3400],
        [950,1000,1050,1100],
        [0,0,0,0]
    ]
};

// ─────────────────────────────────────────────
// HR Budget (mart_hr_budget) – monthly 2025
// ─────────────────────────────────────────────
const DATA_HR = {
    months: MONTHS_SHORT,
    headcount:          [448,450,452,455,458,460,462,458,465,468,470,472],
    effective_fte:      [410,412,414,417,420,422,424,420,427,430,432,434],
    total_employer_cost:[18200,18350,18400,18500,18600,18650,18700,18600,18800,18900,19000,19200],
    avg_gross_salary:   [38500,38600,38700,38800,38900,39000,39100,39000,39200,39300,39400,39500],
    bonus_ratio_pct:    [3.2,2.8,3.5,3.1,2.9,3.3,3.6,2.5,3.4,3.8,4.0,12.5],
    yoy_cost_growth_pct:[4.2,4.1,4.3,4.5,4.4,4.2,4.6,4.3,4.5,4.7,4.8,5.0],
    contract_types: {
        labels: ['Full-time', 'Part-time', 'Contractors (DPP)'],
        values: [385, 52, 35]
    }
};

// ─────────────────────────────────────────────
// Sales Forecast (mart_sales_forecast) – 2025
// ─────────────────────────────────────────────
const DATA_SALES = {
    months: MONTHS_SHORT,
    actual_revenue:     [53200,50400,55300,57200,55100,58200,59900,52000,61600,64700,66800,71500],
    forecast_revenue:   [51800,49200,54000,55900,53800,56800,58400,50700,60100,63100,65200,69800],
    actual_units:       [12400,11800,12900,13300,12800,13500,13900,12100,14300,15000,15500,16600],
    forecast_units:     [12100,11500,12600,13000,12500,13200,13600,11800,14000,14700,15200,16200],
    by_category: {
        labels: ['Elektronika','Strojírenství','Software','Služby','Chemie','Potraviny','Textil','Stavebnictví','Automotive','Energie'],
        revenue: [142000,118000,98000,86000,72000,58000,45000,38000,32000,16500]
    },
    by_region: {
        labels: ['Praha','Středočeský','Jihomoravský','Moravskoslezský','Plzeňský','Královéhradecký','Olomoucký','Liberecký','Bratislava','Wien'],
        revenue: [186000,82000,78000,64000,52000,46000,38000,32000,68000,59000]
    },
    by_channel: {
        labels: ['E-shop','Pobočka','Telefon','B2B portál','Obchodní zástupce'],
        revenue: [215000,178000,98000,142000,72000]
    }
};

// ─────────────────────────────────────────────
// Variance Analysis (mart_variance_analysis) – 2025 summary
// ─────────────────────────────────────────────
const DATA_VARIANCE = {
    categories: ['Elektronika','Strojírenství','Software','Služby','Chemie','Potraviny'],
    volume_variance:  [2800000, -1200000,  1500000,  800000, -600000,  400000],
    price_variance:   [-1100000,  500000,  2100000, -300000,  200000, -150000],
    cost_variance:    [-800000, -400000,   300000, -200000, -500000,  100000],
    mix_variance:     [1200000, -600000,   800000,  400000, -300000, -200000],
    total_variance:   [2100000, -1700000,  4700000,  700000, -1200000, 150000],
    monthly_total: {
        months: MONTHS_SHORT,
        plan:   [51800,49200,54000,55900,53800,56800,58400,50700,60100,63100,65200,69800],
        actual: [53200,50400,55300,57200,55100,58200,59900,52000,61600,64700,66800,71500]
    }
};

// ─────────────────────────────────────────────
// Total summary for hero cards
// ─────────────────────────────────────────────
const SUMMARY = {
    total_revenue_2025: 705900000,
    total_revenue_2024: 638600000,
    revenue_growth_pct: 10.5,
    ebitda_2025: 141180000,
    ebitda_margin_2025: 20.0,
    gross_margin_2025: 50.0,
    avg_dso_2025: 30,
    avg_dpo_2025: 37,
    total_fte_2025: 434,
    total_opex_2025: 48450000,
    total_capex_2025: 36700000
};
